{"version":3,"sources":["components/Form.js","components/Card.js","App.js","index.js"],"names":["Form","props","handleValue","e","a","value","target","toLowerCase","onSearch","filter","country","name","startsWith","suggestions","length","setState","searchCountry","handleClick","paisSelected","id","handleSubmit","state","preventDefault","handleSelected","handleRefresh","error","className","onSubmit","this","onChange","type","placeholder","onClick","map","key","React","Component","Card","useState","countryInfo","setCountryInfo","setError","useEffect","selected","fetch","fetchSelected","json","fetchedData","dataToArray","Object","values","console","log","doSelected","Date","App","paises","setPaises","setSelected","fetchCountries","fetchedCountries","countries","doFetch","lookFor","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6UAwFeA,G,wDApFb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAQRC,YATmB,uCASL,WAAOC,GAAP,iBAAAC,EAAA,6DACNC,EAAQF,EAAEG,OAAOD,MAAME,cADjB,SAEc,EAAKN,MAAMO,SAASC,QAAO,SAACC,GACpD,OAAOA,EAAQC,KAAKJ,cAAcK,WAAWP,MAHnC,QAENQ,EAFM,QAMIC,OAAS,IACvB,EAAKC,SAAS,CAAEL,QAASG,EAAaG,cAAeX,IAErD,EAAKU,SAAS,CAAEL,QAAS,GAAIM,cAAe,KATlC,2CATK,wDAsBnBC,YAAc,SAACd,GACb,IAAMe,EAAef,EAAEG,OAAOa,GAC9B,EAAKJ,UAAS,iBAAO,CACnBC,cAAeE,EACfR,QAAS,QA1BM,EA8BnBU,aAAe,SAACjB,GACmB,KAA7B,EAAKkB,MAAML,eACbb,EAAEmB,iBACF,EAAKrB,MAAMsB,eAAe,EAAKF,MAAML,iBAErCb,EAAEmB,iBACF,EAAKrB,MAAMsB,eAAe,MApCX,EAuCnBC,cAAgB,SAACrB,GACfA,EAAEmB,iBACF,EAAKP,SAAS,CAAEC,cAAe,GAAIN,QAAS,KAC5C,EAAKT,MAAMsB,eAAe,KAxC1B,EAAKF,MAAQ,CACXX,QAAS,GACTM,cAAe,GACfS,MAAO,4BALQ,E,qDA6CT,IAAD,OACP,OACE,yBAAKC,UAAU,aACb,yBAAKA,UAAU,UACb,gDACA,0EACA,iDAEF,0BAAMC,SAAUC,KAAKR,cACnB,2BACES,SAAUD,KAAK1B,YACfS,KAAK,gBACLmB,KAAK,OACLC,YAAY,iBACZ1B,MAAOuB,KAAKP,MAAML,gBAEW,IAA9BY,KAAKP,MAAMX,QAAQI,QACW,KAA7Bc,KAAKP,MAAML,eAAwB,4BAAKY,KAAKP,MAAMI,OACrD,+CACA,4BAAQO,QAASJ,KAAKJ,eAAtB,yBAEA,yBAAKE,UAAU,qBACZE,KAAKP,MAAMX,QAAQI,OAAS,GAC3Bc,KAAKP,MAAMX,QAAQuB,KAAI,SAACvB,GAAD,OACrB,yBACEgB,UAAU,SACVM,QAAS,EAAKf,YACdE,GAAIT,EAAQC,KACZuB,IAAKxB,EAAQC,MAEZD,EAAQC,gB,GA5ERwB,IAAMC,YC6DVC,G,MA3DF,SAACpC,GAAW,IAAD,EACgBqC,mBAAS,IADzB,mBACfC,EADe,KACFC,EADE,OAEIF,oBAAS,GAFb,mBAERG,GAFQ,WAwBtB,OApBAC,qBAAU,WACe,KAAnBzC,EAAM0C,SACQ,uCAAG,gCAAAvC,EAAA,6DACjBqC,GAAS,GADQ,kBAGaG,MAAM,GAAD,OAX/B,2CAW+B,YAAW3C,EAAM0C,WAHnC,cAGTE,EAHS,gBAIWA,EAAcC,OAJzB,OAITC,EAJS,OAKTC,EAAcC,OAAOC,OAAOH,GAClCP,EAAeQ,GANA,kDAQfP,GAAS,GACTU,QAAQC,IAAR,MATe,0DAAH,oDAYhBC,GAEAb,EAAe,MAEhB,CAACvC,EAAM0C,WAGR,yBAAKjB,UAAU,kBACb,6BAC0B,IAAvBa,EAAYzB,QACX,+EAEDyB,EAAYzB,OAAS,GACpB,yCACa,0BAAMK,GAAG,eAAeoB,EAAY,GAAGlC,QAGrC,KAAhBkC,GAAsB,0CACtBA,EAAYzB,OAAS,GACpB,yCACa,0BAAMK,GAAG,eAAeoB,EAAY,GAAGlC,QAGrC,KAAhBkC,GAAsB,0CACtBA,EAAYzB,OAAS,GACpB,sCACU,0BAAMK,GAAG,WAAWoB,EAAY,GAAGlC,QAG9B,KAAhBkC,GAAsB,uCACtBA,EAAYzB,OAAS,GACpB,2CACe,0BAAMK,GAAG,UAAUmC,KAAKf,EAAY,MAGpC,KAAhBA,GAAsB,gDC1BhBgB,MA1Bf,WAAgB,IAAD,EACejB,mBAAS,IADxB,mBACNkB,EADM,KACEC,EADF,OAEmBnB,mBAAS,IAF5B,mBAENK,EAFM,KAEIe,EAFJ,KAIbhB,qBAAU,YACK,uCAAG,8BAAAtC,EAAA,sEACewC,MAPd,4CAMD,cACRe,EADQ,gBAEiBA,EAAeb,OAFhC,OAERc,EAFQ,OAGdH,EAAUG,EAAiBC,WAHb,2CAAH,qDAKbC,KACC,IAEH,IAAMvC,EAAc,uCAAG,WAAOb,GAAP,eAAAN,EAAA,sEACCM,EADD,cACfqD,EADe,gBAEfL,EAAYK,GAFG,2CAAH,sDAKpB,OACE,yBAAKrC,UAAU,mBACb,kBAAC,EAAD,CAAMlB,SAAUgD,EAAQjC,eAAgBA,IACxC,kBAAC,EAAD,CAAMoB,SAAUA,MCtBtBqB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.afef695a.chunk.js","sourcesContent":["import React from 'react';\r\nimport './form.css';\r\n\r\nclass Form extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      country: [],\r\n      searchCountry: '',\r\n      error: 'You must write a country',\r\n    };\r\n  }\r\n\r\n  handleValue = async (e) => {\r\n    const value = e.target.value.toLowerCase();\r\n    const suggestions = await this.props.onSearch.filter((country) => {\r\n      return country.name.toLowerCase().startsWith(value);\r\n    });\r\n\r\n    if (suggestions.length < 188) {\r\n      this.setState({ country: suggestions, searchCountry: value });\r\n    } else {\r\n      this.setState({ country: [], searchCountry: '' });\r\n    }\r\n  };\r\n\r\n  handleClick = (e) => {\r\n    const paisSelected = e.target.id;\r\n    this.setState(() => ({\r\n      searchCountry: paisSelected,\r\n      country: [],\r\n    }));\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    if (this.state.searchCountry !== '') {\r\n      e.preventDefault();\r\n      this.props.handleSelected(this.state.searchCountry);\r\n    } else {\r\n      e.preventDefault();\r\n      this.props.handleSelected('');\r\n    }\r\n  };\r\n  handleRefresh = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ searchCountry: '', country: [] });\r\n    this.props.handleSelected('');\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className='searchBar'>\r\n        <div className='titulo'>\r\n          <h1>COVID-19 TRACKER</h1>\r\n          <h2>Search the country you would like to track</h2>\r\n          <p>Updated every day</p>\r\n        </div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input\r\n            onChange={this.handleValue}\r\n            name='searchCountry'\r\n            type='text'\r\n            placeholder='Search country'\r\n            value={this.state.searchCountry}\r\n          />\r\n          {this.state.country.length === 0 &&\r\n            this.state.searchCountry === '' && <h2>{this.state.error}</h2>}\r\n          <button>Track Cases</button>\r\n          <button onClick={this.handleRefresh}>Track Another Country</button>\r\n\r\n          <div className='paises-contenedor'>\r\n            {this.state.country.length > 0 &&\r\n              this.state.country.map((country) => (\r\n                <div\r\n                  className='paises'\r\n                  onClick={this.handleClick}\r\n                  id={country.name}\r\n                  key={country.name}\r\n                >\r\n                  {country.name}\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Form;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './card.css';\r\n\r\nconst url = 'https://covid19.mathdro.id/api/countries';\r\n\r\nconst Card = (props) => {\r\n  const [countryInfo, setCountryInfo] = useState('');\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (props.selected !== '') {\r\n      const doSelected = async () => {\r\n        setError(false);\r\n        try {\r\n          const fetchSelected = await fetch(`${url}/${props.selected}`);\r\n          const fetchedData = await fetchSelected.json();\r\n          const dataToArray = Object.values(fetchedData);\r\n          setCountryInfo(dataToArray);\r\n        } catch (err) {\r\n          setError(true);\r\n          console.log(err);\r\n        }\r\n      };\r\n      doSelected();\r\n    } else {\r\n      setCountryInfo('');\r\n    }\r\n  }, [props.selected]);\r\n\r\n  return (\r\n    <div className='card-container'>\r\n      <div>\r\n        {countryInfo.length === 1 && (\r\n          <h3>Country not found, please track another country</h3>\r\n        )}\r\n        {countryInfo.length > 1 && (\r\n          <p>\r\n            Confirmed: <span id='confirmados'>{countryInfo[0].value}</span>\r\n          </p>\r\n        )}\r\n        {countryInfo === '' && <p>Confirmed: </p>}\r\n        {countryInfo.length > 1 && (\r\n          <p>\r\n            Recovered: <span id='recuperados'>{countryInfo[1].value}</span>\r\n          </p>\r\n        )}\r\n        {countryInfo === '' && <p>Recovered: </p>}\r\n        {countryInfo.length > 1 && (\r\n          <p>\r\n            Deaths: <span id='muertos'>{countryInfo[2].value}</span>\r\n          </p>\r\n        )}\r\n        {countryInfo === '' && <p>Deaths: </p>}\r\n        {countryInfo.length > 1 && (\r\n          <p>\r\n            Last Update: <span id='update'>{Date(countryInfo[3])}</span>\r\n          </p>\r\n        )}\r\n        {countryInfo === '' && <p>Last Update: </p>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Form from './components/Form';\nimport Card from './components/Card';\n\nconst urlCountries = 'https://covid19.mathdro.id/api/countries';\nfunction App() {\n  const [paises, setPaises] = useState([]);\n  const [selected, setSelected] = useState('');\n\n  useEffect(() => {\n    const doFetch = async () => {\n      const fetchCountries = await fetch(urlCountries);\n      const fetchedCountries = await fetchCountries.json();\n      setPaises(fetchedCountries.countries);\n    };\n    doFetch();\n  }, []);\n\n  const handleSelected = async (country) => {\n    const lookFor = await country;\n    await setSelected(lookFor);\n  };\n\n  return (\n    <div className=\"pais-contenedor\">\n      <Form onSearch={paises} handleSelected={handleSelected} />\n      <Card selected={selected} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}